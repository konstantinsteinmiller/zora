# Todo
- [x] Enemy
  - [x] Navigation Mesh
  - [x] loading Mesh
  - [x] enemy FSM
  - [x] health bar
  - [x] enemy attack
  - [x] enemy AI
    - [x] randomly moving around on navmesh
    - [x] randomly moving with collision and gravity
    - [x] facing target while moving and runs backwards if target is behind him
    - [x] navigation to off navmesh islands
      - [x] pathfinding
      - [x] flying to islands
      - [x] support between island navigation A -> B -> C -> D
      - [x] fix ground stutter and falling stuck in wall
      - [x] fix animations why falling from island
    - [x] fleeing
    - [x] hiding behind obstacles
    - [x] enemy can die and vanish with vfx
    - [x] cover while charging
    - [x] attacking by charging and releasing spell after threshold and on sight of enemy
    - [x] prevent self hurting
    - [x] adjust threat charge levels
- [x] Sounds
  - [x] hurt sound (anime ääähhh)
  - [x] spell shot sound (zushhh)
  - [x] flying flap sound (flap flap)
  - [x] pickup item sounds
  - [x] pickup power up sounds
  - [x] pickup fairy dust sounds
  - [x] poison cloud damage sound (caugh)
  - [x] death sound
  - [x] missing mana sound
  - [x] battle music
  - [x] battle end sound
  - [x] background music
- [ ] Tutorial
  - [x] Popover on screen for controls etc and descriptions
  - [x] Character controls tutorial
  - [x] add reset tutorial to options menu
  - [x] Missing mana tutorial
  - [ ] don't ask again switch
- [ ] UI
  - [x] Pausing Game for menu access
  - [x] Charge indicator around crosshair
  - [x] Life bar
    - [x] fix 100 hp bug
  - [x] Mana bar
  - [x] Endurance bar
    - [x] Flying mechanic, jump -> fly
    - [x] fix previous endurance bug when regen overwriting previous damage
    - [x] fix bar scaling
  - [x] Fairy dust collected indicator
  - [ ] Skill Box
  - [x] Battle Over screen
    - [x] stop background music
    - [x] fix Game over and button alignment
    - [x] show custom cursor when unlocked and in window
      - [x] sprinkles trail
      - [ ] store mouse positions in array
    - [x] back to main menu button
    - [x] cleanup after game over and restart arena battle
    - [ ] experience gained UI
  - [x] Loading Screen
    - [x] Progress Bar
    - [x] Artwork
    - [x] AssetLoadingManager to preload assets
      - [x] preload World, navmesh and character models and animations
      - [x] cleanup vfx sprite loading with manager
      - [x] move texture loading to texture atlas in LoadingManager
      - [x] refactor character skeletal mesh with animations loading to use AssetManager
  - [ ] Fairy loadout UI
  - [ ] Spell selection UI
  - [ ] Map UI
  - [ ] Inventory
    - [ ] Drag and Drop
    - [ ] Item Slot
    - [ ] Items
      - [ ] Gold
      - [x] Fairy Dust
      - [ ] Consumables
      - [ ] Quest Items
- [x] Main Menu
  - [x] Start Game
  - [ ] Load Game / Continue
  - [x] Options
    - [ ] Keybindings change
  - [x] Exit
- [ ] Arena Gameplay
  - [x] Poison cloud growing towards the middle of the arena
  - [x] Power ups that increase damage and defense
  - [x] create fairy dust item
  - [x] enemies dropping fairy dust on hit
  - [x] fairy dust blinking before disappearing
  - [x] every spell shot uses mana
  - [x] mana regenerates slowly over time
  - [x] if not enough mana for the spell, health is used instead of missing mana amount
  - [x] if enemy has not enough mana for the spell, health is used instead of missing mana amount
  - [x] if a fairy falls to the void, it dies at y < -10
  - [x] wild fairies and the player can fly in a wild fairy fight
- [ ] World
  - [x] Water Shader
  - [x] skybox
  - [x] Arenas
    - [x] Water arena
    - [x] Mountain
      - [x] load Mesh
      - [x] Colliders
  - [ ] Locations
    - [ ] Fairy forest, big tree with huts hanging at it with leaf roofs and hanging bridges
    - [ ] town with houses and market
  - [ ] Biomes
    - [ ] Forest
    - [ ] Desert / Steppe
    - [ ] Volcano
    - [ ] Swamp
    - [ ] Iceland
    - [ ] Water islands
    - [ ] Mushroom forest
    - [ ] Sky islands
  - [ ] Story: 
    - [ ] Intro
    - [ ] Outro
    - [ ] Quests
    - [ ] Dialogues
    - [ ] Story and world concept
  - [ ] (Not MVP) Day and night cycle
- [x] Refactor to function style programming
- [x] Refactor to frame rate independent movement -> browser and machine independent physics
- [x] Refactor model importing
  - [x] glb and fbx meshes
  - [x] fbx characters with anims
- [x] Physics for Character
  - [x] character dynamic colliders
  - [x] world static colliders
  - [x] wall sliding
  - [x] fall detection and steep slope sliding
- [x] Character Controller
  - [x] First person camera with Keyboard and Mouse
  - [x] Third person camera with Keyboard and Mouse
  - [x] import character animations
  - [x] state machine
  - [x] idle, walk, run, cast, jump
  - [x] Flying mechanic, jump -> fly + spend stamina for flying
  - [x] Refactor InputController to decouple actions from peripheral inputs
  - [x] shoot spell vfx and deal damage on impact
  - [x] improve collision box for better hit detection
  - [x] VFX trail
  - [x] refactor mouse movement and add mouse lock to center of screen while not in menus
  - [x] scale damage with charge level
  - [x] show vfx as indicator for charge level of enemy and player
  - [x] add strafing
  - [x] fix vfx cleanup or GPURenderer reuse
  - [x] refactor derive PlayerController and EnemyController from basic Controller for logic reuse and maintainability
  - [x] add guild for enemy detection
- [x] basic three game engine 
  - [x] Physics
  - [x] Renderer
  - [x] Light
  - [x] Camera
    - [x] refactor Third- and FirstPerson Camera into PersonCamera
  - [x] Sound
- [x] game icon
- [x] basic vue + eslint + typescript setup 
- [x] fix routing on reload

## Bugs